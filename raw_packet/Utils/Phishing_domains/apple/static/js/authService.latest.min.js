!function(e){function n(e,n,o){return 4===arguments.length?t.apply(this,arguments):void r(e,{declarative:!0,deps:n,declare:o})}function t(e,n,t,o){r(e,{declarative:!1,deps:n,executingRequire:t,execute:o})}function r(e,n){n.name=e,e in m||(m[e]=n),n.normalizedDeps=n.deps}function o(e,n){if(n[e.groupIndex]=n[e.groupIndex]||[],-1==g.call(n[e.groupIndex],e)){n[e.groupIndex].push(e);for(var t=0,r=e.normalizedDeps.length;r>t;t++){var i=e.normalizedDeps[t],a=m[i];if(a&&!a.evaluated){var c=e.groupIndex+(a.declarative!=e.declarative);if(void 0===a.groupIndex||a.groupIndex<c){if(void 0!==a.groupIndex&&(n[a.groupIndex].splice(g.call(n[a.groupIndex],a),1),0==n[a.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");a.groupIndex=c}o(a,n)}}}}function i(e){var n=m[e];n.groupIndex=0;var t=[];o(n,t);for(var r=!!n.declarative==t.length%2,i=t.length-1;i>=0;i--){for(var a=t[i],s=0;s<a.length;s++){var f=a[s];r?c(f):u(f)}r=!r}}function a(e){return w[e]||(w[e]={name:e,dependencies:[],exports:{},importers:[]})}function c(n){if(!n.module){var t=n.module=a(n.name),r=n.module.exports,o=n.declare.call(e,function(e,n){if(t.locked=!0,"object"==typeof e)for(var o in e)r[o]=e[o];else r[e]=n;for(var i=0,a=t.importers.length;a>i;i++){var c=t.importers[i];if(!c.locked)for(var s=0;s<c.dependencies.length;++s)c.dependencies[s]===t&&c.setters[s](r)}return t.locked=!1,n},{id:n.name});t.setters=o.setters,t.execute=o.execute;for(var i=0,s=n.normalizedDeps.length;s>i;i++){var u,f=n.normalizedDeps[i],l=m[f],d=w[f];d?u=d.exports:l&&!l.declarative?u=l.esModule:l?(c(l),d=l.module,u=d.exports):u=p(f),d&&d.importers?(d.importers.push(t),t.dependencies.push(d)):t.dependencies.push(null),t.setters[i]&&t.setters[i](u)}}}function s(e){var n,t=m[e];if(t)t.declarative?d(e,[]):t.evaluated||u(t),n=t.module.exports;else if(n=p(e),!n)throw new Error("Unable to load dependency "+e+".");return(!t||t.declarative)&&n&&n.__useDefault?n["default"]:n}function u(n){if(!n.module){var t={},r=n.module={exports:t,id:n.name};if(!n.executingRequire)for(var o=0,i=n.normalizedDeps.length;i>o;o++){var a=n.normalizedDeps[o],c=m[a];c&&u(c)}n.evaluated=!0;var l=n.execute.call(e,function(e){for(var t=0,r=n.deps.length;r>t;t++)if(n.deps[t]==e)return s(n.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},t,r);void 0!==typeof l&&(r.exports=l),t=r.exports,t&&t.__esModule?n.esModule=t:n.esModule=f(t)}}function f(n){var t={};if(("object"==typeof n||"function"==typeof n)&&n!==e)if(h)for(var r in n)"default"!==r&&l(t,n,r);else{var o=n&&n.hasOwnProperty;for(var r in n)"default"===r||o&&!n.hasOwnProperty(r)||(t[r]=n[r])}return t["default"]=n,v(t,"__useDefault",{value:!0}),t}function l(e,n,t){try{var r;(r=Object.getOwnPropertyDescriptor(n,t))&&v(e,t,r)}catch(o){return e[t]=n[t],!1}}function d(n,t){var r=m[n];if(r&&!r.evaluated&&r.declarative){t.push(n);for(var o=0,i=r.normalizedDeps.length;i>o;o++){var a=r.normalizedDeps[o];-1==g.call(t,a)&&(m[a]?d(a,t):p(a))}r.evaluated||(r.evaluated=!0,r.module.execute.call(e))}}function p(e){if(b[e])return b[e];if("@node/"==e.substr(0,6))return b[e]=f(x(e.substr(6)));var n=m[e];if(!n)throw"Module "+e+" not present.";return i(e),d(e,[]),m[e]=void 0,n.declarative&&v(n.module.exports,"__esModule",{value:!0}),b[e]=n.declarative?n.module.exports:n.esModule}var m={},g=Array.prototype.indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1},h=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(y){h=!1}var v;!function(){try{Object.defineProperty({},"a",{})&&(v=Object.defineProperty)}catch(e){v=function(e,n,t){try{e[n]=t.value||t.get.call(e)}catch(r){}}}}();var w={},x="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,b={"@empty":{}};return function(e,r,o,i){return function(a){a(function(a){for(var c={_nodeRequire:x,register:n,registerDynamic:t,get:p,set:function(e,n){b[e]=n},newModule:function(e){return e}},s=0;s<r.length;s++)(function(e,n){n&&n.__esModule?b[e]=n:b[e]=f(n)})(r[s],arguments[s]);i(c);var u=p(e[0]);if(e.length>1)for(var s=1;s<e.length;s++)p(e[s]);return o?u["default"]:u})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function(e){var n=(this.require,this.exports,this.module);!function(n){function t(e,n){e=e.replace(c,"");var t=e.match(f),r=(t[1].split(",")[n]||"require").replace(l,""),o=d[r]||(d[r]=new RegExp(s+r+u,"g"));o.lastIndex=0;for(var i,a=[];i=o.exec(e);)a.push(i[2]||i[3]);return a}function r(e,n,t,o){if("object"==typeof e&&!(e instanceof Array))return r.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof n&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var a=i.get(e);return a.__useDefault?a["default"]:a}throw new TypeError("Invalid require")}for(var c=[],s=0;s<e.length;s++)c.push(i["import"](e[s],o));Promise.all(c).then(function(e){n&&n.apply(null,e)},t)}function o(e,o,c){"string"!=typeof e&&(c=o,o=e,e=null),o instanceof Array||(c=o,o=["require","exports","module"].splice(0,c.length)),"function"!=typeof c&&(c=function(e){return function(){return e}}(c)),void 0===o[o.length-1]&&o.pop();var s,u,f;-1!=(s=a.call(o,"require"))&&(o.splice(s,1),e||(o=o.concat(t(c.toString(),s)))),-1!=(u=a.call(o,"exports"))&&o.splice(u,1),-1!=(f=a.call(o,"module"))&&o.splice(f,1);var l={name:e,deps:o,execute:function(e,t,a){for(var l=[],d=0;d<o.length;d++)l.push(e(o[d]));a.uri=a.id,a.config=function(){},-1!=f&&l.splice(f,0,a),-1!=u&&l.splice(u,0,t),-1!=s&&l.splice(s,0,function(n,t,o){return"string"==typeof n&&"function"!=typeof t?e(n):r.call(i,n,t,o,a.id)});var p=c.apply(-1==u?n:t,l);return"undefined"==typeof p&&a&&(p=a.exports),"undefined"!=typeof p?p:void 0}};if(e)p.anonDefine||p.isBundle?p.anonDefine&&p.anonDefine.name&&(p.anonDefine=null):p.anonDefine=l,p.isBundle=!0,i.registerDynamic(l.name,l.deps,!1,l.execute);else{if(p.anonDefine&&!p.anonDefine.name)throw new Error("Multiple anonymous defines in module "+e);p.anonDefine=l}}var i=e,a=Array.prototype.indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1},c=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,s="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",u="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",f=/\(([^\)]*)\)/,l=/^\s+|\s+$/g,d={};o.amd={};var p={isBundle:!1,anonDefine:null};i.amdDefine=o,i.amdRequire=r}("undefined"!=typeof self?self:global),e.register("2",[],function(e,n){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(){for(var e=[],n="89AB",t="0123456789ABCDEF",r=0;36>r;r++)e[r]=t[Math.floor(16*Math.random())];return e[14]="4",e[19]=n[Math.floor(4*Math.random())],e[8]=e[13]=e[18]=e[23]="-",e.join("")}function n(e){e.trim()&&(S=e+".")}function t(e,n){for(var t=e.whitelist,r=e.blacklist,o=!1,i=!1,a=0;a<t.length;++a)if(n.match(new RegExp(t[a]))){o=!0;break}for(var c=0;c<r.length;++c)if(n.match(new RegExp(r[c]))){i=!0;break}return o&&!i}function r(e,n,t,r){if(!(t instanceof Array)){var o=e.toString(),i=o.substring(o.indexOf("(")+1,o.indexOf(")"));i=""===i?[]:i.split(", ");for(var a={},c=0;c<i.length;c++)a[i[c]]=c;var s=[];for(var u in t){if("undefined"==typeof a[u])throw"No such param: "+u;s[a[u]]=t[u]}t=s}return"undefined"!=typeof r&&(t=t.concat(r)),e.apply(n,t)}function o(e){return S+JSON.stringify(e)}function i(e){return JSON.parse(e.substring(S.length))}function a(){var e={};return e.jsonrpc="2.0",e}function c(e,n,t){var r=a();return r.method=e,r.params=n,"undefined"!=typeof t&&(r.id=t),r}function s(e,n,t){var r={};return r.code=e,r.message=n,r.data=t,r}function u(e,n,t){var r=a();return r.id=t,"undefined"==typeof e||null===e?r.result="undefined"===n?null:n:r.error=e,r}function f(e){return e.publicProcedureName in E?!1:(L[e.publicProcedureName]={publicProcedureName:e.publicProcedureName,procedure:e.procedure,context:e.procedure.context,isAsync:"undefined"!=typeof e.isAsynchronous?e.isAsynchronous:!1,acl:"undefined"!=typeof e.acl?e.acl:{whitelist:["(.*)"],blacklist:[]}},!0)}function l(e){return e in E?!1:(delete L[e],!0)}function d(e){return L[e]}function p(e){var n=e.event,t=e.source,r="undefined"!=typeof t&&null!==t;if(n&&n.data&&"string"==typeof n.data&&0===n.data.indexOf(S)){var o=i(n.data);if("undefined"!=typeof o.method){var a={data:n.data,source:r?t:n.source,origin:r?"*":n.origin,shouldCheckACL:!r},c=m(o,a);null!==c&&v(a.source,c,a.origin)}else g(o)}}function m(e,n,o){if("2.0"!==e.jsonrpc)return u(s(-32600,"Invalid request.","The recived JSON is not a valid JSON-RPC 2.0 request."),null,null);var i=e.id,a=d(e.method);if("undefined"==typeof a)return"undefined"==typeof i?null:u(s(-32601,"Method not found.","The requested remote procedure does not exist or is not available."),null,i);if(n.shouldCheckACL&&!t(a.acl,n.origin))return"undefined"==typeof i?null:u(s(-2,"Application error.","Access denied on server."),null,i);try{if(a.isAsync){var c=function(e){v(n.source,u(null,e,i),n.origin)},f=function(e){v(n.source,u(s(-1,"Application error.",e.message),null,i),n.origin)};return r(a.procedure,a.context,e.params,[c,f,n]),null}var l=r(a.procedure,a.context,e.params,[n]);return"undefined"==typeof i?null:u(null,l,i)}catch(p){return"undefined"==typeof i?null:p.match("^(No such param)")?u(s(-32602,"Invalid params.",p.message),null,i):u(s(-1,"Application error.",p.message),null,i)}}function g(e){var n=e.id,t=R[n];if("undefined"!=typeof t&&null!==t)if(delete R[n],"undefined"==typeof e.error){var r={destination:t.destination,publicProcedureName:t.publicProcedureName,params:t.params,status:"success",namespace:S,returnValue:e.result};t.onSuccess(r)}else{var o={destination:t.destination,publicProcedureName:t.publicProcedureName,params:t.params,status:"error",namespace:S,message:e.error.message+" "+e.error.data};N(o),t.onError(o)}}function h(n){if(n.retries&&n.retries<0)throw new Exception("number of retries must be 0 or higher");var t=[];if("undefined"==typeof n.destination||null===n.destination||"workerParent"===n.destination)t=[{context:null,type:"workerParent"}];else if("publish"===n.destination)t=I();else if(n.destination instanceof Array)for(var r=0;r<n.destination.length;r++)"workerParent"===n.destination[r]?t.push({context:null,type:"workerParent"}):"undefined"!=typeof n.destination[r].frames?t.push({context:n.destination[r],type:"window"}):t.push({context:n.destination[r],type:"worker"});else"undefined"!=typeof n.destination.frames?t.push({context:n.destination,type:"window"}):t.push({context:n.destination,type:"worker"});for(var r=0;r<t.length;r++){var o={destination:t[r].context,destinationDomain:"undefined"==typeof n.destinationDomain?["*"]:"string"==typeof n.destinationDomain?[n.destinationDomain]:n.destinationDomain,publicProcedureName:n.publicProcedureName,onSuccess:"undefined"!=typeof n.onSuccess?n.onSuccess:function(){},onError:"undefined"!=typeof n.onError?n.onError:function(){},retries:"undefined"!=typeof n.retries?n.retries:5,timeout:"undefined"!=typeof n.timeout?n.timeout:500,status:"requestNotSent"},i="undefined"==typeof n.onError&&"undefined"==typeof n.onSuccess,a="undefined"!=typeof n.params?n.params:[],s=e();R[s]=o,i?o.message=c(n.publicProcedureName,a):o.message=c(n.publicProcedureName,a,s),w(s)}}function y(e){e.namespace&&n(e.namespace),h(e)}function v(e,n,t){if("undefined"==typeof e||null===e)self.postMessage(o(n));else{if("undefined"!=typeof e.frames)return e.postMessage(o(n),t);e.postMessage(o(n))}}function w(e,n){self.setTimeout(function(){var t=R[e];if("undefined"!=typeof t&&(!n||"pinging"===t.status))if(t.retries<=-1)g(u(s(-4,"Application error.","Destination unavailable."),null,e));else{if("requestSent"===t.status)return;if(0===t.retries||"available"===t.status){t.status="requestSent",t.retries=-1,R[e]=t;for(var r=0;r<t.destinationDomain.length;r++)v(t.destination,t.message,t.destinationDomain[r],t),self.setTimeout(function(){w(e)},t.timeout)}else t.status="pinging",t.retries=t.retries-1,h({destination:t.destination,publicProcedureName:"receivePingRequest",onSuccess:function(n){n.returnValue===!0&&"undefined"!=typeof R[e]&&(R[e].status="available",w(e))},params:[t.publicProcedureName],retries:0,destinationDomain:t.destinationDomain}),R[e]=t,window.setTimeout(function(){R[e]&&"pinging"===R[e].status&&w(e,!0)},t.timeout/t.retries)}},10)}function x(e,n,t,r){"addEventListener"in e?e.addEventListener(n,t,r):e.attachEvent("on"+n,t)}function b(e,n,t){return function(r){var o={event:r,source:n,destinationType:t};e(o)}}function k(e){return"undefined"!=typeof d(e)}function A(){var e=[];if("undefined"!=typeof window){e.push({context:window.top,type:"window"});for(var n=0;"undefined"!=typeof e[n];n++)for(var t=e[n],r=0;r<t.context.frames.length;r++)e.push({context:t.context.frames[r],type:"window"})}else e.push({context:window,type:"workerParent"});return e}function D(){return F}function I(){var e=A(),n=D(),t=e.concat(n);return t}function T(){var e=[],n="undefined"!=typeof window.frames?window.location.protocol+"//"+window.location.host+(""!==window.location.port?":"+window.location.port:""):"";for(var t in L)t in E||e.push({publicProcedureName:L[t].publicProcedureName,acl:L[t].acl,origin:n});return e}function P(e){function n(e,n){for(var t=0;t<e.length;t++)e[t].origin.match(new RegExp(o))&&e[t].publicProcedureName.match(new RegExp(i))&&c.push({publicProcedureName:e[t].publicProcedureName,destination:n,procedureACL:e[t].acl,destinationOrigin:e[t].origin})}var t=null;if("undefined"==typeof e.destination){t=I();for(var r=0;r<t.length;r++)t[r]=t[r].context}else t=e.destination;var o="undefined"==typeof e.originRegex?"(.*)":e.originRegex,i="undefined"==typeof e.nameRegex?"(.*)":e.nameRegex,a=t.length,c=[];this.call({destination:t,destinationDomain:"*",publicProcedureName:"getRegisteredProcedures",onSuccess:function(t){a--,n(t.returnValue,t.destination),0===a&&e.callback(c)},onError:function(n){a--,0===a&&e.callback(c)}})}if("undefined"==typeof JSON||"undefined"==typeof JSON.stringify||"undefined"==typeof JSON.parse)throw"pmrpc requires the JSON library";if("undefined"==typeof window.postMessage&&"undefined"==typeof window.onconnect)throw"pmrpc requires the HTML5 cross-document messaging and worker APIs";var S="pmrpc.",N=function(e){if(window.sessionStorage){var n=e.publicProcedureName+"."+S,t={procedure:e.publicProcedureName,status:e.status,description:e.message,namespace:e.namespace?e.namespace:S};sessionStorage.setItem(n,JSON.stringify(t))}},L=(Math.random(),{}),R={},E={};if("window"in window){var C=b(p,null,"window");x(window,"message",C,!1)}else if("onmessage"in window){var C=b(p,window,"worker");x(window,"message",C,!1)}else{if(!("onconnect"in window))throw"Pmrpc must be loaded within a browser window or web worker.";var O=function(e){var n=b(p,e.ports[0],"sharedWorker");x(e.ports[0],"message",n,!1),e.ports[0].start()};x(window,"connect",O,!1)}var _=window.Worker;window.nonPmrpcWorker=_;var M=window.SharedWorker;window.nonPmrpcSharedWorker=M;var F=[];return window.Worker=function(e){var n=new _(e);F.push({context:n,type:"worker"});var t=b(p,n,"worker");return x(n,"message",t,!1),n},window.SharedWorker=function(e,n){var t=new M(e,n);F.push({context:t,type:"sharedWorker"});var r=b(p,t.port,"sharedWorker");return x(t.port,"message",r,!1),t.postMessage=function(e,n){return t.port.postMessage(e,n)},t.port.start(),t},f({publicProcedureName:"receivePingRequest",procedure:k}),f({publicProcedureName:"getRegisteredProcedures",procedure:T}),E={getRegisteredProcedures:null,receivePingRequest:null},{register:f,unregister:l,call:y,discover:P,setNamespace:n,sessionLog:N}},e("default",t)}}}),function(){var t=e.amdDefine;!function(e,r){"object"==typeof n&&n.exports?n.exports=r():"function"==typeof t&&t.amd?t("3",[],r):e.Spinner=r()}(this,function(){"use strict";function e(e,n){var t,r=document.createElement(e||"div");for(t in n)r[t]=n[t];return r}function n(e){for(var n=1,t=arguments.length;t>n;n++)e.appendChild(arguments[n]);return e}function t(e,n,t,r){var o=["opacity",n,~~(100*e),t,r].join("-"),i=.01+t/r*100,a=Math.max(1-(1-e)/n*(100-i),e),c=u.substring(0,u.indexOf("Animation")).toLowerCase(),s=c&&"-"+c+"-"||"";return d[o]||(f.insertRule("@"+s+"keyframes "+o+"{0%{opacity:"+a+"}"+i+"%{opacity:"+e+"}"+(i+.01)+"%{opacity:1}"+(i+n)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",f.cssRules.length),d[o]=1),o}function r(e,n){var t,r,o=e.style;if(n=n.charAt(0).toUpperCase()+n.slice(1),void 0!==o[n])return n;for(r=0;r<l.length;r++)if(t=l[r]+n,void 0!==o[t])return t}function o(e,n){for(var t in n)e.style[r(e,t)||t]=n[t];return e}function i(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)void 0===e[r]&&(e[r]=t[r])}return e}function a(e,n){return"string"==typeof e?e:e[n%e.length]}function c(e){this.opts=i(e||{},c.defaults,p)}function s(){function t(n,t){return e("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}f.addRule(".spin-vml","behavior:url(#default#VML)"),c.prototype.lines=function(e,r){function i(){return o(t("group",{coordsize:f+" "+f,coordorigin:-u+" "+-u}),{width:f,height:f})}function c(e,c,s){n(d,n(o(i(),{rotation:360/r.lines*e+"deg",left:~~c}),n(o(t("roundrect",{arcsize:r.corners}),{width:u,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:s}),t("fill",{color:a(r.color,e),opacity:r.opacity}),t("stroke",{opacity:0}))))}var s,u=r.scale*(r.length+r.width),f=2*r.scale*u,l=-(r.width+r.length)*r.scale*2+"px",d=o(i(),{position:"absolute",top:l,left:l});if(r.shadow)for(s=1;s<=r.lines;s++)c(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=r.lines;s++)c(s);return n(e,d)},c.prototype.opacity=function(e,n,t,r){var o=e.firstChild;r=r.shadow&&r.lines||0,o&&n+r<o.childNodes.length&&(o=o.childNodes[n+r],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=t))}}var u,f,l=["webkit","Moz","ms","O"],d={},p={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(c.defaults={},i(c.prototype,{spin:function(n){this.stop();var t=this,r=t.opts,i=t.el=e(null,{className:r.className});if(o(i,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),n&&n.insertBefore(i,n.firstChild||null),i.setAttribute("role","progressbar"),t.lines(i,t.opts),!u){var a,c=0,s=(r.lines-1)*(1-r.direction)/2,f=r.fps,l=f/r.speed,d=(1-r.opacity)/(l*r.trail/100),p=l/r.lines;!function m(){c++;for(var e=0;e<r.lines;e++)a=Math.max(1-(c+(r.lines-e)*p)%l*d,r.opacity),t.opacity(i,e*r.direction+s,a,r);t.timeout=t.el&&setTimeout(m,~~(1e3/f))}()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,i){function c(n,t){return o(e(),{position:"absolute",width:i.scale*(i.length+i.width)+"px",height:i.scale*i.width+"px",background:n,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*f+i.rotate)+"deg) translate("+i.scale*i.radius+"px,0)",borderRadius:(i.corners*i.scale*i.width>>1)+"px"})}for(var s,f=0,l=(i.lines-1)*(1-i.direction)/2;f<i.lines;f++)s=o(e(),{position:"absolute",top:1+~(i.scale*i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:u&&t(i.opacity,i.trail,l+f*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&n(s,o(c("#000","0 0 4px #000"),{top:"2px"})),n(r,n(s,c(a(i.color,f),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,n,t){n<e.childNodes.length&&(e.childNodes[n].style.opacity=t)}}),"undefined"!=typeof document){f=function(){var t=e("style",{type:"text/css"});return n(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}();var m=o(e("group"),{behavior:"url(#default#VML)"});!r(m,"transform")&&m.adj?s():u=r(m,"animation")}return c})}(),e.registerDynamic("4",["5"],!0,function(e,n,t){function r(e,n,t){if(null!=e){void 0!==t&&t in o(e)&&(n=[t]);for(var r=0,i=n.length;null!=e&&i>r;)e=e[n[r++]];return r&&r==i?e:void 0}}var o=(this||self,e("5"));return t.exports=r,t.exports}),e.registerDynamic("6",[],!0,function(e,n,t){function r(e,n,t){var r=-1,o=e.length;n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),t=void 0===t||t>o?o:+t||0,0>t&&(t+=o),o=n>t?0:t-n>>>0,n>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+n];return i}this||self;return t.exports=r,t.exports}),e.registerDynamic("7",[],!0,function(e,n,t){function r(e){return function(n){return null==n?void 0:n[e]}}this||self;return t.exports=r,t.exports}),e.registerDynamic("8",["7"],!0,function(e,n,t){var r=(this||self,e("7")),o=r("length");return t.exports=o,t.exports}),e.registerDynamic("9",["8","a"],!0,function(e,n,t){function r(e){return null!=e&&i(o(e))}var o=(this||self,e("8")),i=e("a");return t.exports=r,t.exports}),e.registerDynamic("b",["9","c"],!0,function(e,n,t){function r(e){return i(e)&&o(e)&&c.call(e,"callee")&&!s.call(e,"callee")}var o=(this||self,e("9")),i=e("c"),a=Object.prototype,c=a.hasOwnProperty,s=a.propertyIsEnumerable;return t.exports=r,t.exports}),e.registerDynamic("d",[],!0,function(e,n,t){function r(e,n){return e="number"==typeof e||o.test(e)?+e:-1,n=null==n?i:n,e>-1&&e%1==0&&n>e}var o=(this||self,/^\d+$/),i=9007199254740991;return t.exports=r,t.exports}),e.registerDynamic("5",["e"],!0,function(e,n,t){function r(e){return o(e)?e:Object(e)}var o=(this||self,e("e"));return t.exports=r,t.exports}),e.registerDynamic("f",["10","5"],!0,function(e,n,t){function r(e,n){var t=typeof e;if("string"==t&&c.test(e)||"number"==t)return!0;if(o(e))return!1;var r=!a.test(e);return r||null!=n&&e in i(n)}var o=(this||self,e("10")),i=e("5"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,c=/^\w*$/;return t.exports=r,t.exports}),e.registerDynamic("11",[],!0,function(e,n,t){function r(e){var n=e?e.length:0;return n?e[n-1]:void 0}this||self;return t.exports=r,t.exports}),e.registerDynamic("12",[],!0,function(e,n,t){function r(e){return null==e?"":e+""}this||self;return t.exports=r,t.exports}),e.registerDynamic("e",[],!0,function(e,n,t){function r(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}this||self;return t.exports=r,t.exports}),e.registerDynamic("13",["e"],!0,function(e,n,t){function r(e){return o(e)&&c.call(e)==i}var o=(this||self,e("e")),i="[object Function]",a=Object.prototype,c=a.toString;return t.exports=r,t.exports}),e.registerDynamic("14",["13","c"],!0,function(e,n,t){function r(e){return null==e?!1:o(e)?f.test(s.call(e)):i(e)&&a.test(e)}var o=(this||self,e("13")),i=e("c"),a=/^\[object .+?Constructor\]$/,c=Object.prototype,s=Function.prototype.toString,u=c.hasOwnProperty,f=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return t.exports=r,t.exports}),e.registerDynamic("15",["14"],!0,function(e,n,t){function r(e,n){var t=null==e?void 0:e[n];return o(t)?t:void 0}var o=(this||self,e("14"));return t.exports=r,t.exports}),e.registerDynamic("a",[],!0,function(e,n,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&o>=e}var o=(this||self,9007199254740991);return t.exports=r,t.exports}),e.registerDynamic("c",[],!0,function(e,n,t){function r(e){return!!e&&"object"==typeof e}this||self;return t.exports=r,t.exports}),e.registerDynamic("10",["15","a","c"],!0,function(e,n,t){var r=(this||self,e("15")),o=e("a"),i=e("c"),a="[object Array]",c=Object.prototype,s=c.toString,u=r(Array,"isArray"),f=u||function(e){return i(e)&&o(e.length)&&s.call(e)==a};return t.exports=f,t.exports}),e.registerDynamic("16",["12","10"],!0,function(e,n,t){function r(e){if(i(e))return e;var n=[];return o(e).replace(a,function(e,t,r,o){n.push(r?o.replace(c,"$1"):t||e)}),n}var o=(this||self,e("12")),i=e("10"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,c=/\\(\\)?/g;return t.exports=r,t.exports}),e.registerDynamic("17",["4","6","b","10","d","f","a","11","16"],!0,function(e,n,t){function r(e,n){if(null==e)return!1;var t=m.call(e,n);if(!t&&!u(n)){if(n=d(n),e=1==n.length?e:o(e,i(n,0,-1)),null==e)return!1;n=l(n),t=m.call(e,n)}return t||f(e.length)&&s(n,e.length)&&(c(e)||a(e))}var o=(this||self,e("4")),i=e("6"),a=e("b"),c=e("10"),s=e("d"),u=e("f"),f=e("a"),l=e("11"),d=e("16"),p=Object.prototype,m=p.hasOwnProperty;return t.exports=r,t.exports}),e.register("18",["2","3","17"],function(e,n){"use strict";var t,r,o;return e("default",function(e){e.name=e.name||"widget-loader",e.nameSpace=e.nameSpace||"widgetLoader",e.frameLoadTimeout=e.frameLoadTimeout||3e4,e.configTimeout=e.configTimeout||3e4,e.path=e.path||"",e.urlTransform=e.urlTransform||function(e){return e},e.widgetWindowReference=void 0;var n,i,a,c=new t,s={},u=!1,f=!1,l=!1,d=!1,p=[],m=["ready","config"],g=[],h={},y={lines:13,length:25,width:9,radius:20,scale:.25,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},v=new r(y);c.context=self.name||"Parent",c||(c=new t),c.setNamespace(e.nameSpace);var w=function(e,n,t){e&&""!==e.trim()&&(e=e.trim().toUpperCase()),"START_WITH"===e?(n&&"LITE"===n.toString().toUpperCase().trim()&&(y.color="#fff"),v.spin(document.getElementById(t))):"STOP"===e&&v.stop()},x=function(t){"undefined"==typeof t.returnUrl&&"undefined"!=typeof t.returnURL&&(t.returnUrl=t.returnURL);var r=N(t);if(r.result)s.config=t,L(s.config),("undefined"==typeof s.config.waitAnimation||""===s.config.waitAnimation.trim()||s.config.waitAnimation&&"FALSE"!==s.config.waitAnimation.toUpperCase().trim())&&w("START_WITH",s.config.theme,s.config.containerId),R(s.config,e.name),O(),_(),n=setTimeout(function(){f||(f=!0,E(e.name),"function"==typeof s.config.loadFailed&&s.config.loadFailed({error:"timeout"}))},e.frameLoadTimeout);else if(t.callbacks&&t.callbacks.onAuthFailure){var o="";r.missingPaths.map(function(e){o+="	 "+e+"	 "}),t.callbacks.onAuthFailure({result:{code:"MISSING_MANDATORY_INIT_OPTIONS",message:"Missing mandatory initOptions: ["+o+"] \n Refer the documentation for more information. \n",data:{}}})}},b=function(e){if(!e)throw new TypeError("Invalid url",e);var n=document.implementation.createHTMLDocument(""),t=n.createElement("a");if(t.href=e,n.body.appendChild(t),":"===t.protocol||!/:/.test(t.href))throw new TypeError("Invalid URL");return t.protocol+"//"+t.host},k=function(e,n){if("undefined"!=typeof s.config&&s.config.serviceURL){a=b(s.config.serviceURL);var r,o=!!h[e];r=P(o?[window.location.origin,a]:a),c||(c=new t),c.register({publicProcedureName:e,procedure:n,acl:r})}else p.push({__key__:e,__callback__:n})},A=function(n){return JSON.parse(n.replace(e.nameSpace+".","")).method},D=function(n,t,r){if("undefined"==typeof t||""===t.trim())throw new Error("[listener] is required.");if("undefined"==typeof n||""===n.trim())throw new Error("[alias] is required.");if(t.toLowerCase().trim()===n.toLowerCase().trim())throw new Error("[alias] [listener] names cannot be same.");if("function"!=typeof r)throw new Error("[callback] is required and should be a function.");if(h[t])throw new Error("");h[t]=n,window.addEventListener("message",function(r){if("undefined"!=typeof r&&"undefined"!=typeof r.data&&"string"==typeof r.data&&-1!==r.data.indexOf(e.nameSpace)){var o=A(r.data),i=r.origin||r.originalEvent.origin;o&&o.toLowerCase().trim()===n.toLowerCase().trim()&&i===a&&c.call({destination:window,publicProcedureName:t,namespace:e.nameSpace,onSuccess:function(e){},onError:function(e){}})}},!1),k(n,r)},I=function(e){var n=[],t=["/","."],r=0;if(e){r=e.length;for(var o=0;r>o;o++)-1!==t.indexOf(e.charAt(o))?(n.push("\\"),n.push(e.charAt(o))):n.push(e.charAt(o))}return n.join("")+".*"},T=function(e){var n=[];return Array.isArray(e)?e.forEach(function(e,t,r){n.push(I(e))}):n.push(I(e)),n},P=function(e){var n=T(e);return{whitelist:n,blacklist:[]}},S=function(n){var t=n.serviceURL+e.path+"?widgetKey="+n.serviceKey;return n.locale&&(t+="&language="+n.locale),"undefined"!=typeof n.devAppDomain&&""!==n.devAppDomain&&(t+="&widgetDomain="+n.devAppDomain),s.srcUrl=e.urlTransform(t,n),s.srcUrl},N=function(e){var n=["containerId","serviceKey","serviceURL","callbacks.onAuthSuccess"],t=["context","domainName","gsWebToken","alternateDSID","orgId","entityId"],r={result:!1},i=[],a=function(e,n){var t=!0;return n.map(function(n){o(e,n)||(t=!1,i.push(n))}),t};return r.result=a(e,n),r.result&&e.context&&"TEST_IDP"===e.context.trim().toUpperCase()&&(r.result=a(e,t)),r.result||(r.missingPaths=i),r},L=function(e){if(""===e.locale||!e.locale,"undefined"==typeof s.config.waitAnimation||""===s.config.waitAnimation.trim()||s.config.waitAnimation&&"FALSE"!==s.config.waitAnimation.toUpperCase().trim(),!e.features,""===e.serviceKey||!e.serviceKey)throw new TypeError("serviceKey is either not provided or is not defined.");if(""===e.serviceURL||!e.serviceURL)throw new TypeError("serviceURL is either not provided or is not defined.");if(""===e.containerId||!e.containerId)throw new TypeError("containerId is either not provided or is not defined.");e.callbacks&&e.callbacks.completed&&"function"==typeof e.callbacks.completed&&(!e.callbacks||!e.callbacks.failed||"function"!=typeof e.callbacks.failed)},R=function(n,t){var r=document.createElement("iframe");r.src=S(n),r.width="100%",r.height="100%",r.id=t+"-iFrame",r.name=t,r.scrolling="no",r.frameBorder="0",window.document.getElementById(n.containerId).appendChild(r),e.widgetWindowReference=window.frames[t]},E=function(e){var n=document.getElementById(e+"-iFrame");"IFRAME"===n.nodeName&&n.parentNode&&n.parentNode.removeChild(n)},C=function(){c.call({destination:e.widgetWindowReference,publicProcedureName:"teardownWidget",onSuccess:function(n){E(e.name),s.config.callbacks.onAuthTeardown()},onError:function(n){E(e.name),s.config.callbacks.onAuthTeardown()},retries:3})},O=function(){k("getConfig",function(t){return g.push("getConfig"),u=!0,clearTimeout(n),"function"==typeof s.config.callbacks.getConfig&&s.config.callbacks.getConfig(t),w("STOP"),g.indexOf(m[0])>g.indexOf(m[1])&&(i=setTimeout(function(){l||d||(d=!0,E(e.name),"function"==typeof s.config.callbacks.failed&&s.config.callbacks.failed(t))},s.config.configTimeout)),s.config}),k("widgetFailedToLoad",function(t){g.push("widgetFailedToLoad"),f||(f=!0,clearTimeout(n),E(e.name),"function"==typeof s.config.callbacks.loadFailed&&s.config.callbacks.loadFailed(t))}),k("ready",function(e){g.push("ready"),l=!0,clearTimeout(i),"function"==typeof s.config.callbacks.ready&&s.config.callbacks.ready(e)}),k("configFailed",function(n){g.push("configFailed"),d||(d=!0,clearTimeout(i),E(e.name),"function"==typeof s.config.callbacks.failed&&s.config.callbacks.failed(n))}),k("failed",function(e){g.push("failed"),"function"==typeof s.config.callbacks.failed&&s.config.callbacks.failed(e)}),k("completed",function(e){g.push("completed"),"function"==typeof s.config.callbacks.completed&&s.config.callbacks.completed(e)}),k("exit",function(e){g.push("exit"),"function"==typeof s.config.callbacks.exit&&s.config.callbacks.exit(e)}),k("error",function(e){g.push("error"),"function"==typeof s.config.callbacks.error&&s.config.callbacks.error(e)}),k("log",function(e){g.push("log"),"function"==typeof s.config.callbacks.log&&s.config.callbacks.log(e)})},_=function(){for(var e in p)p.hasOwnProperty(e)&&k(p[e].__key__,p[e].__callback__);M()},M=function(){window.addEventListener("message",function(n){if("undefined"!=typeof n&&"undefined"!=typeof n.data&&"string"==typeof n.data&&-1!==n.data.indexOf(e.nameSpace)){var t=A(n.data),r=n.origin||n.originalEvent.origin;for(var o in p)p.hasOwnProperty(o)&&t&&t.toLowerCase().trim()===p[o].__key__.toLowerCase().trim()&&r===a&&g.push(p[o].__key__)}},!1)};return s.load=x,s.teardown=C,s.addListener=k,s.addAliasToListener=D,s}),{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]}],execute:function(){}}}),e.register("1",["18"],function(e,n){"use strict";var t,r,o,i;return{setters:[function(e){t=e["default"]}],execute:function(){r={name:"aid-auth-widget",nameSpace:"pmrpc",path:"/auth/signin",
urlTransform:function(e,n){var t=e;return"undefined"!=typeof n.resetCRToken&&""!==n.resetCRToken&&(t+="&key="+n.resetCRToken),"undefined"!=typeof n.resetCRLang&&""!==n.resetCRLang&&(t+="&language="+n.resetCRLang),"undefined"!=typeof n.domainId&&""!==n.domainId&&(t+="&rv="+n.domainId),"undefined"!=typeof n.requestorAppId&&""!==n.requestorAppId&&(t+="&appId="+n.requestorAppId),t}},o=new t(r),o.addListener("complete",function(e){"function"==typeof o.config.callbacks.onAuthSuccess&&o.config.callbacks.onAuthSuccess(e)}),o.addListener("ready",function(e){"function"==typeof o.config.callbacks.onAuthReady&&(o.config.callbacks.onAuthReady(e),"undefined"!=typeof e.iframeTitle&&""!==e.iframeTitle&&(document.getElementById(r.name+"-iFrame").title=e.iframeTitle))}),o.addListener("authFailedToLoad",function(e){"function"==typeof o.config.callbacks.onAuthFailure&&o.config.callbacks.onAuthFailure(e)}),o.addListener("passwordAuthDone",function(e,n){"function"==typeof o.config.callbacks.onPasswordAuthDone&&o.config.callbacks.onPasswordAuthDone(e,n)}),o.addListener("repairDidStart",function(e){"function"==typeof o.config.callbacks.onRepairStart&&o.config.callbacks.onRepairStart(e)}),o.addListener("authDidCancel",function(e){"function"==typeof o.config.callbacks.onAuthCancel&&o.config.callbacks.onAuthCancel(e)}),o.addListener("authTeardown",function(e){"function"==typeof o.config.callbacks.onAuthTeardown&&o.config.callbacks.onAuthTeardown(e)}),o.addListener("authWidgetDidChangeFlow",function(e){"function"==typeof o.config.callbacks.onAuthWidgetDidChangeFlow&&o.config.callbacks.onAuthWidgetDidChangeFlow(e)}),o.addListener("authWidgetWillChangeFlow",function(e){"function"==typeof o.config.callbacks.onAuthWidgetWillChangeFlow&&o.config.callbacks.onAuthWidgetWillChangeFlow(e)}),o.addAliasToListener("config","getConfig",function(e){return{data:o.config}}),window.AppleID=window.AppleID||{},window.AppleID.service=window.AppleID.service||{},window.AppleID.service.auth=window.AppleID.service.auth||{},window.AppleID.service.auth.init=window.AppleID.service.auth.init||o.load,window.AppleID.service.auth.teardown=window.AppleID.service.auth.teardown||o.teardown,e("auth",i={init:o.load,teardown:o.teardown}),e("auth",i),e("default",o.load)}}})})(function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=e():e()});